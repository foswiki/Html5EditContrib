<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />

		<title>Accordion Demo - X-Tag</title>
		
		<link rel="stylesheet" type="text/css" href="../accordion.css" />
		<script type="text/javascript" src="../../lib/x-tag/x-tag.js"></script>
		<script type="text/javascript" src="../accordion.js"></script>
		
		<style>
			#accordion {
				width: 400px;
				height: 500px;
				margin: 50px;
			}
		</style>
		
	</head>
	
<body>
	
	<nav class="actions">
		<button data-action-type="addSection">Add Section</button>
		<button data-action-type="previousToggler"><-- Select Previous Section</button>
		<button data-action-type="nextToggler">Select Next Section --></button>
	</nav>
	
	<x-accordion id="accordion" class="style">
		<h4 tabindex="1" selected>Toggler 1</h4>
		<section>
			<p>
				Tabboxes are great for showing users only the content they need to see, while providing users an easy way to access additional content on-demand.
			</p>
		</section>
		
		<h4 tabindex="2">Toggler 2</h4>
		<section>
			<p>
				Examples of use-cases for tabboxes include: a set of step-wise directions, grouping like content elements together, or as a building block for a tabbed viewing interface in a mobile web app.
			</p>
		</section>
		
		<h4 tabindex="3">Toggler 3</h4>
		<section>
			<p>
				In short, tabboxes are pretty freaking cool, and when you pair them with CSS animations/transitions, you can do things with a few styles that used to take a ton of JavaScript and custom code.
			</p>
		</section>
	</x-accordion>
	
</body>
<script type="text/javascript">

	document.addEventListener('click', function(e){
		
		var action = e.target,
			parent = action.parentNode,
			actionType = action.getAttribute('data-action-type');
	
		if (actionType) {
		

			var tag = action.parentElement.nextElementSibling.id,
				demo = document.getElementById(tag);
				
			switch(actionType) {

				case 'addSection':
						var toggler = document.createElement('h4'),
						section = document.createElement('section'),
						length = xtag.query(demo, 'h4').length;
						
					toggler.textContent = 'Toggler ' + (length + 1);
					demo.appendChild(toggler);
					
					section.innerHTML = 'This panel was added dynamically, it shows when you click on the toggler element above entitled "Toggler ' + (length + 1) + '"';
					demo.appendChild(section);
					demo.setSelected(toggler);
					break;
				
				case 'previousToggler':
					demo.selectPrevious();
					break;
					
				case 'nextToggler':
					demo.selectNext();
					break;
			}
		}
		
	}, false);
 

</script>

</html>
